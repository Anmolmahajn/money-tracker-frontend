{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate,useNavigate}from'react-router-dom';import'./App.css';import TransactionForm from'./components/TransactionForm';import TransactionList from'./components/TransactionList';import CategoryManager from'./components/CategoryManager';import Dashboard from'./components/Dashboard';import Login from'./pages/Login';import Register from'./pages/Register';import{Wallet}from'lucide-react';// Protected Route Component\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function ProtectedRoute(_ref){let{children}=_ref;const token=localStorage.getItem('token');if(!token){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}return children;}// Public Route Component (redirect if already logged in)\nfunction PublicRoute(_ref2){let{children}=_ref2;const token=localStorage.getItem('token');if(token){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});}return children;}// Main App Component\nfunction MainApp(){const navigate=useNavigate();const[activeTab,setActiveTab]=useState('dashboard');const[refreshKey,setRefreshKey]=useState(0);const[editingTransaction,setEditingTransaction]=useState(null);const[user,setUser]=useState(null);useEffect(()=>{// Load user from localStorage\nconst storedUser=localStorage.getItem('user');if(storedUser){setUser(JSON.parse(storedUser));}},[]);const handleTransactionAdded=()=>{setRefreshKey(prev=>prev+1);};const handleEdit=transaction=>{setEditingTransaction(transaction);setActiveTab('transactions');window.scrollTo({top:0,behavior:'smooth'});};const handleCancelEdit=()=>{setEditingTransaction(null);};const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('user');setUser(null);navigate('/login');};return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(Wallet,{size:48,style:{display:'inline',marginRight:'15px',verticalAlign:'middle'}}),\"Money Tracker\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Track your expenses across UPI, cards, wallets & subscriptions in one place\"}),user&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:'white'},children:[\"Welcome, \",user.username,\"!\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"btn btn-secondary btn-small\",children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"nav-tab \".concat(activeTab==='dashboard'?'active':''),onClick:()=>setActiveTab('dashboard'),children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{className:\"nav-tab \".concat(activeTab==='transactions'?'active':''),onClick:()=>setActiveTab('transactions'),children:\"Transactions\"}),/*#__PURE__*/_jsx(\"button\",{className:\"nav-tab \".concat(activeTab==='categories'?'active':''),onClick:()=>setActiveTab('categories'),children:\"Categories\"})]}),activeTab==='dashboard'&&/*#__PURE__*/_jsx(Dashboard,{}),activeTab==='transactions'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TransactionForm,{onTransactionAdded:handleTransactionAdded,editingTransaction:editingTransaction,onCancelEdit:handleCancelEdit}),/*#__PURE__*/_jsx(TransactionList,{refresh:refreshKey,onEdit:handleEdit})]}),activeTab==='categories'&&/*#__PURE__*/_jsx(CategoryManager,{})]})});}function App(){return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(PublicRoute,{children:/*#__PURE__*/_jsx(Login,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(PublicRoute,{children:/*#__PURE__*/_jsx(Register,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(MainApp,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","useNavigate","TransactionForm","TransactionList","CategoryManager","Dashboard","Login","Register","Wallet","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProtectedRoute","_ref","children","token","localStorage","getItem","to","replace","PublicRoute","_ref2","MainApp","navigate","activeTab","setActiveTab","refreshKey","setRefreshKey","editingTransaction","setEditingTransaction","user","setUser","storedUser","JSON","parse","handleTransactionAdded","prev","handleEdit","transaction","window","scrollTo","top","behavior","handleCancelEdit","handleLogout","removeItem","className","size","style","display","marginRight","verticalAlign","marginTop","justifyContent","alignItems","color","username","onClick","concat","onTransactionAdded","onCancelEdit","refresh","onEdit","App","path","element"],"sources":["C:/Users/mahaj/Downloads/money-tracker/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate } from 'react-router-dom';\r\nimport './App.css';\r\nimport TransactionForm from './components/TransactionForm';\r\nimport TransactionList from './components/TransactionList';\r\nimport CategoryManager from './components/CategoryManager';\r\nimport Dashboard from './components/Dashboard';\r\nimport Login from './pages/Login';\r\nimport Register from './pages/Register';\r\nimport { Wallet } from 'lucide-react';\r\n\r\n// Protected Route Component\r\nfunction ProtectedRoute({ children }) {\r\n  const token = localStorage.getItem('token');\r\n  \r\n  if (!token) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n  \r\n  return children;\r\n}\r\n\r\n// Public Route Component (redirect if already logged in)\r\nfunction PublicRoute({ children }) {\r\n  const token = localStorage.getItem('token');\r\n  \r\n  if (token) {\r\n    return <Navigate to=\"/dashboard\" replace />;\r\n  }\r\n  \r\n  return children;\r\n}\r\n\r\n// Main App Component\r\nfunction MainApp() {\r\n  const navigate = useNavigate();\r\n  const [activeTab, setActiveTab] = useState('dashboard');\r\n  const [refreshKey, setRefreshKey] = useState(0);\r\n  const [editingTransaction, setEditingTransaction] = useState(null);\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Load user from localStorage\r\n    const storedUser = localStorage.getItem('user');\r\n    if (storedUser) {\r\n      setUser(JSON.parse(storedUser));\r\n    }\r\n  }, []);\r\n\r\n  const handleTransactionAdded = () => {\r\n    setRefreshKey(prev => prev + 1);\r\n  };\r\n\r\n  const handleEdit = (transaction) => {\r\n    setEditingTransaction(transaction);\r\n    setActiveTab('transactions');\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    setEditingTransaction(null);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    setUser(null);\r\n    navigate('/login');\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <div className=\"container\">\r\n        <div className=\"header\">\r\n          <h1>\r\n            <Wallet size={48} style={{ display: 'inline', marginRight: '15px', verticalAlign: 'middle' }} />\r\n            Money Tracker\r\n          </h1>\r\n          <p>Track your expenses across UPI, cards, wallets & subscriptions in one place</p>\r\n          {user && (\r\n            <div style={{ marginTop: '10px', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n              <span style={{ color: 'white' }}>Welcome, {user.username}!</span>\r\n              <button onClick={handleLogout} className=\"btn btn-secondary btn-small\">\r\n                Logout\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"nav-tabs\">\r\n          <button \r\n            className={`nav-tab ${activeTab === 'dashboard' ? 'active' : ''}`}\r\n            onClick={() => setActiveTab('dashboard')}\r\n          >\r\n            Dashboard\r\n          </button>\r\n          <button \r\n            className={`nav-tab ${activeTab === 'transactions' ? 'active' : ''}`}\r\n            onClick={() => setActiveTab('transactions')}\r\n          >\r\n            Transactions\r\n          </button>\r\n          <button \r\n            className={`nav-tab ${activeTab === 'categories' ? 'active' : ''}`}\r\n            onClick={() => setActiveTab('categories')}\r\n          >\r\n            Categories\r\n          </button>\r\n        </div>\r\n\r\n        {activeTab === 'dashboard' && (\r\n          <Dashboard />\r\n        )}\r\n\r\n        {activeTab === 'transactions' && (\r\n          <>\r\n            <TransactionForm \r\n              onTransactionAdded={handleTransactionAdded}\r\n              editingTransaction={editingTransaction}\r\n              onCancelEdit={handleCancelEdit}\r\n            />\r\n            <TransactionList \r\n              refresh={refreshKey}\r\n              onEdit={handleEdit}\r\n            />\r\n          </>\r\n        )}\r\n\r\n        {activeTab === 'categories' && (\r\n          <CategoryManager />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        {/* Public Routes */}\r\n        <Route \r\n          path=\"/login\" \r\n          element={\r\n            <PublicRoute>\r\n              <Login />\r\n            </PublicRoute>\r\n          } \r\n        />\r\n        <Route \r\n          path=\"/register\" \r\n          element={\r\n            <PublicRoute>\r\n              <Register />\r\n            </PublicRoute>\r\n          } \r\n        />\r\n\r\n        {/* Protected Routes */}\r\n        <Route \r\n          path=\"/*\" \r\n          element={\r\n            <ProtectedRoute>\r\n              <MainApp />\r\n            </ProtectedRoute>\r\n          } \r\n        />\r\n\r\n        {/* Default Route */}\r\n        <Route path=\"/\" element={<Navigate to=\"/login\" replace />} />\r\n      </Routes>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}